<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="config.mybatis.mapper.oracle.Food">
	
	<insert id="insertFoodMenu" parameterType="FoodItemVO">
			<selectKey  keyProperty="foodItemNo" resultType="int" order="BEFORE">
				select food_item_seq.nextval from dual
			</selectKey>	
				
				insert into food_item(food_item_no, food_menu_no, food_item_name, food_item_desc, food_item_price)
				values(#{foodItemNo}, #{foodMenuNo},#{foodItemName},#{foodItemDesc},#{foodItemPrice})
		</insert>
	
	
	<select id="selectAll" parameterType="int" resultType="FoodItemVO">
			select * from food_item
			where food_menu_no in (select food_menu_no from food_menu where res_no = #{resNo})
	</select>
	
	
	
	<delete id="deleteMenu" parameterType="int">
		delete from food_item where food_item_no=#{foodItemNo}
	</delete>

</mapper>