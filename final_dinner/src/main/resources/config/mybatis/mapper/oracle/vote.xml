<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="config.mybatis.mapper.oracle.vote">
	<insert id="insertVote" parameterType="VoteVO">
		<selectKey resultType="int" keyProperty="voteNo">
			select vote_seq.nextval from dual
		</selectKey>
		insert into vote(vote_no, mem_no,group_no,vote_title, vote_desc, vote_end_date)
		values(#{voteNo}, #{memNo}, #{groupNo}, #{voteTitle}, #{voteDesc}, #{endDate})
	</insert>
	
	<insert id="insertItem" parameterType="Vote_ItemVO">
		<selectKey resultType="int" keyProperty="voteItemNo">
			select vote_item_seq.nextval from dual
		</selectKey>
		insert into vote_item(vote_item_no, vote_no,item_title)
		values(#{voteItemNo}, #{voteNo}, #{itemTitle})
	</insert>
</mapper>